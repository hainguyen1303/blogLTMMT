{{/* è¯„è®ºç³»ç»Ÿç»„ä»¶

  æ”¯æŒå¤šç§è¯„è®ºç³»ç»Ÿï¼š
  - Giscus (åŸºäºŽ GitHub Discussions)
  - Disqus (ä¼ ç»Ÿè¯„è®ºç³»ç»Ÿ)
  - Utterances (åŸºäºŽ GitHub Issues)
  - Waline (ç®€æ´è¯„è®ºç³»ç»Ÿ)
  - Artalk (è‡ªæ‰˜ç®¡è¯„è®ºç³»ç»Ÿ)
  - Twikoo (ç®€æ´è¯„è®ºç³»ç»Ÿ)

  @context {page} . å½“å‰æ–‡ç« é¡µé¢å¯¹è±¡
*/}}

{{- $commentsConfig := .Site.Params.comments -}}
{{- $commentSystem := $commentsConfig.system -}}

{{- if and $commentsConfig.enabled (not .Params.comments_disabled) -}}
  <section
    id="comments"
    class="bg-card border-border mx-auto mt-12 max-w-4xl rounded-2xl border p-8 px-4 shadow-sm">
    <div class="bg-card">
      <h2
        class="text-foreground mb-6 flex items-center gap-3 text-2xl font-bold">
        {{ partial "features/icon.html" (dict "name" "message-circle" "size" "lg" "ariaLabel" "") }}
        Comments
      </h2>

      <div class="comments-container">
        {{- if eq $commentSystem "giscus" -}}
          {{ partial "features/comments/giscus.html" (dict "Site" $.Site "Page" $ "id" "giscus-comments") }}
        {{- else if eq $commentSystem "disqus" -}}
          {{ partial "features/comments/disqus.html" (dict "Site" $.Site "Page" $ "id" "disqus-comments") }}
        {{- else if eq $commentSystem "utterances" -}}
          {{ partial "features/comments/utterances.html" (dict "Site" $.Site "Page" $ "id" "utterances-comments") }}
        {{- else if eq $commentSystem "waline" -}}
          {{ partial "features/comments/waline.html" (dict "Site" $.Site "Page" $ "id" "waline-comments") }}
        {{- else if eq $commentSystem "artalk" -}}
          {{ partial "features/comments/artalk.html" (dict "Site" $.Site "Page" $ "id" "artalk-comments") }}
        {{- else if eq $commentSystem "twikoo" -}}
          {{ partial "features/comments/twikoo.html" (dict "Site" $.Site "Page" $ "id" "twikoo-comments") }}
        {{- else -}}
          {{- /* ä¸æ”¯æŒçš„è¯„è®ºç³»ç»Ÿ */ -}}
          <div class="py-8 text-center">
            <div
              class="bg-muted/50 mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full">
              {{ partial "features/icon.html" (dict "name" "alert-circle" "size" "lg" "ariaLabel" "") }}
            </div>
            <h3 class="text-foreground mb-2 text-lg font-medium">
              Comment system not supported
            </h3>
            <p class="text-muted-foreground text-sm">
              Please check the comment system type in configuration
            </p>
            <p class="text-muted-foreground mt-2 text-xs">
              å½“å‰é…ç½®:
              {{ $commentSystem }}
            </p>
          </div>
        {{- end -}}
      </div>
    </div>
  </section>
{{- end -}}
